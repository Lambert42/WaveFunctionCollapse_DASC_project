## 数算大作业   WFC算法实现

### 构想(雾

- #### 数据结构

  - 格点：记录该点的状态空间和(香农)熵。状态空间为可取状态及其权重的字典 { state : weight }。香农熵的定义为

  $$
  S=-\sum_i \left(p_i \ln p_i\right)=-\sum_i \frac{w_i}{\sum w_i} \ln{\frac{w_i}{\sum w_i}}
  $$

  - (整体)波函数：包含格点的矩阵，为了方便单独记录其大小(size)。

- #### 核心思想

  寻找熵最小的点  ->  根据权重随机塌缩  ->  在塌缩点附近传播影响  ->  循环

- #### 目前的问题

  - 影响(或者约束)的代码描述，这一块的内容最为复杂，也是程序核心所在
  - 优化塌缩过程，比如在寻找熵最小的点的过程中，直接跳过已经塌缩的点，尽量不做全局搜索
  - 与图形的接口，需要与图片处理相连接
  - ......
